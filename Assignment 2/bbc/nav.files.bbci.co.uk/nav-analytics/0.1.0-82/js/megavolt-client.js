define("megavolt-client",["module"],function(t){function e(t){var e=window.location.href;t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),r=n.exec(e);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}function n(t,e){for(var n in e)t[n]=e[n];return t}function r(t){try{var r=JSON.parse(e("overriddenBuckets"));if(null!==r&&"object"==typeof r)return n(n({},t),r)}catch(t){}return t}function o(){return null!==e("overriddenBuckets")}function c(){m=!1}function a(t,e){try{t.open("GET",e,!0),t.send()}catch(t){}}function i(t,e,n){try{t.open("POST",e,!0),t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify(n))}catch(t){}}function u(t){var e=new XMLHttpRequest,n={};return e.withCredentials=!0,e.onreadystatechange=function(){if(e.readyState===XMLHttpRequest.DONE){try{var o=JSON.parse(e.responseText);200!==e.status||o.error||(n=o.buckets.reduce(function(t,e){return t[e.experiment]=e.variant,t},{}),s(n))}catch(t){}t(r(n))}},e.onerror=function(e){t(n)},e.onabort=function(){t(n)},e.ontimeout=function(){t(n)},e}function f(t){var e=new XMLHttpRequest;return e.withCredentials=!0,e.onreadystatechange=function(){e.readyState===XMLHttpRequest.DONE&&t()},e.onerror=function(e){t()},e.onabort=function(){t()},e.ontimeout=function(){t()},e}function s(t){var e=new Date;e.setMonth(e.getMonth()+3);var n="; expires="+e.toGMTString(),r="object"==typeof t?JSON.stringify(t):t;document.cookie="ckpf_mvt_buckets="+r+n,m=!0}function v(){try{var t=document.cookie.replace(/(?:(?:^|.*;\s*)ckpf_mvt_buckets\s*\=\s*([^;]*).*$)|^.*$/,"$1");return JSON.parse(t)}catch(t){return}}function p(t,e){var n=u(e),r=b+"/buckets?activate=";r+=void 0===t.activate||o()?"false":t.activate,a(n,r)}function d(t,e){var n;"function"==typeof t?(n={},e=t):n=t;var o;n.noCache||n.activate||(o=v()),o?(e(r(o)),m||p({activate:!1},function(){})):p(n,e)}function l(t){return Object.keys(t).reduce(function(e,n){var r="mvt_"+n;return e[r]=t[n],e},{})}function y(t){d({activate:!1,noCache:!0},function(e){var n=l(e);t(n)})}function g(t){return"[object Array]"===Object.prototype.toString.call(t)}function h(t,e){if(o())return void e();var n=b+"/track";if("string"==typeof t&&(t=[].concat(t)),g(t)){var r=f(e),c=t.map(function(t){return{eventKey:t}}),a={events:c};i(r,n,a)}}var k={version:"1.0.0"},b=t.config().baseUrl,m=!1;return k._resetCacheUpdated=c,k.getBuckets=d,k.getMVTIStatsLabels=y,k.trackEvents=h,k});